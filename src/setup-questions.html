<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Setup Your Security Questions - Memoro Vault</title>

  <link id="theme-cypherpunk" rel="stylesheet" href="css/setup-questions_cypherpunk.css">
<link id="theme-clean" rel="stylesheet" href="css/setup-questions_clean.css" disabled>

</head>
<body>

<canvas id="matrixCanvas"></canvas>
<div class="matrix-overlay"></div>

<h1>Setup Your Security Questions</h1>
<p class="instruction">
  You can use the default questions or edit them.<br>
  Select exactly <b>two</b> questions to act as your first line of defense.
  <br>
  <a id="helpBtn" class="help-link" href="#">How does unlocking work?</a>
</p>

<div class="question-list" id="questionList"></div>

<div class="button-container">
  <button class="button" onclick="goBack()">Back</button>
  <button class="button" onclick="showDisclaimer()">Continue</button>
</div>

<!-- Help Modal -->
<div id="helpModal" class="modal" aria-hidden="true">
  <div class="modal-content">
    <h2>How Unlocking Works</h2>
   <div class="hint-text">
  <p><strong>Memoro Vault protects your files with two unlock layers.</strong></p>

  <p><u>Layer 1 – Quick Check:</u>  
  You choose exactly <strong>two questions</strong> from your list.  
  These act like your “front door.” If someone guesses wrong, the vault slows them down with increasing wait times after each failed try.</p>

  <p><u>Layer 2 – Full Unlock:</u>  
  After passing Layer 1, you must answer <strong>all of your remaining questions</strong> correctly, in the right order.  
  Only then is the vault able to build the secret key to open your files.</p>

  <p><u>Why two layers?</u>  
  Layer 1 blocks casual attempts.  
  Layer 2 uses advanced cryptography (Argon2 + AES-GCM) to guarantee that even powerful attackers can’t brute-force their way in.</p>

  <p><em>Tip:</em> Make your answers personal but memorable, and mix in a red herring if you want more protection.</p>
</div>

    <div class="modal-buttons">
      <button id="helpCloseBtn">Close</button>
    </div>
  </div>
</div>

<!-- Edit Question Modal (Upgraded) -->
<div id="editModal" class="modal">
  <div class="modal-content">
    <h2>Edit Question</h2>
    <div style="margin-bottom: 10px;">
<input type="text" id="editInput">
    </div>
    <div style="margin-top: 20px; margin-bottom: 15px;">
    <label class="suggestions-label">Suggestions:</label>
<select id="categoryDropdown">
  <option value="">-- Select Category --</option>
  <option value="home">Home</option>
  <option value="family">Family</option>
  <option value="life">Life Events</option>
  <option value="Pets">Pets</option>
  <option value="favorites">Favorites</option>
  <option value="random">Random</option>
  <option value="school">School</option>
  <option value="career">Career</option>
  <option value="travel">Travel</option>
  <option value="hobbies">Hobbies</option>
  <option value="special">Special Memories</option>
</select>
</div>

    <div id="suggestionsList" style="max-height: 150px; overflow-y: auto; margin-bottom:15px;"></div>
    <div class="modal-buttons">
      <button onclick="saveModalEdit()">Save</button>
      <button onclick="closeModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- Message Modal -->
<div id="messageModal" class="modal">
  <div class="modal-content">
    <h2 id="messageModalTitle">Notice</h2>
    <p id="messageModalText">Message</p>
    <div class="modal-buttons">
      <button onclick="closeMessageModal()">OK</button>
    </div>
  </div>
</div>

<!-- Disclaimer Modal -->
<div id="disclaimerModal" class="modal">
  <div class="modal-content">
    <h2>Before You Continue</h2>
    <p class="disclaimer-copy">
      Your seed and memory answers will be handled only on this device.<br><br>
      Nothing is uploaded, transmitted, or stored externally.<br><br>
      Sensitive data is automatically erased after 30 minutes or after building your vault.<br><br>
      Please use a secure device and environment.
    </p>
    <div class="modal-buttons">
      <button onclick="proceedToAnswers()">I Understand — Continue</button>
    </div>
  </div>
</div>

<script src="js/setup-questions.js"></script>
</body>
</html>

